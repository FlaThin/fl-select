<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Array Observer Example</title>
<style>
  ul {
    list-style-type: none;
    padding: 0;
  }
</style>
</head>
<body>

<h1>Array Observer Example</h1>

<ul id="listContainer"></ul>

<script>
  // Array inicial
  let items = ['Item 1', 'Item 2', 'Item 3'];

  // Função para criar a lista
  function renderList() {
    const listContainer = document.getElementById('listContainer');
    listContainer.innerHTML = ''; // Limpar a lista antes de recriá-la
    items.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item;
      listContainer.appendChild(li);
    });
  }

  // Criar um Observer para monitorar mudanças no array
  const observer = new MutationObserver(mutations => {
    mutations.forEach(mutation => {
      if (mutation.type === 'splice') {
        mutation.removed.forEach(removedItem => {
          const listItems = document.getElementById('listContainer').childNodes;
          listItems.forEach(li => {
            if (li.textContent === removedItem) {
              li.remove(); // Remove o item que foi removido do array
            }
          });
        });
        mutation.added.forEach(addedItem => {
          const li = document.createElement('li');
          li.textContent = addedItem;
          document.getElementById('listContainer').appendChild(li); // Adiciona o item que foi adicionado ao array
        });
      }
    });
  });

  // Observar alterações no array
  observer.observe(items, { subtree: true, childList: true });

  // Exemplo de alteração no array (pode ser feito através de uma função, botão, etc.)
  function addItem() {
    items.push('Novo Item ' + (items.length + 1));
  }

  // Inicializar a lista
  renderList();
</script>

<button onclick="addItem()">Adicionar Item</button>

</body>
</html>